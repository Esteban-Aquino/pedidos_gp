<!--
/**
 * Autor: Esteban Aqiono
 * Fecha: 18-11-2019
 * Descripcion: Pantalla de carga de pedidos
 */
-->
<link href="frm/pedidos/css/estilos.css" rel="stylesheet" type="text/css"/>
<!--<div class="page-title">
    <div class="title_left">
        <h3>Pedidos</h3>
    </div>
</div>
<div class="clearfix"></div>-->
<div class="row">
    <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">
            <div class="x_title">
                <h2>Solicitud de compra</h2>
                <div class="clearfix"></div>
            </div>
            <!-- CABECERA -->
            <div class="x_content">
                <form id="pedido" class="form-horizontal form-label-left" action="javascript:void(0);" autocomplete="off" novalidate>
                    <div class="row item form-group">
                        <div class="col-md-4">
                            <div class="row item form-group">
                                <label class="control-label col-md-3 col-sm-1 col-xs-4" for="DOCUMENTO">Buscar&nbsp;RUC/CI:
                                </label>
                                <div class="col-md-7 col-sm-2 col-xs-6 " data-toggle="tooltip" title="Buscar por RUC o CI">
                                    <input id="DOCUMENTO" class="form-control col-md-7 col-xs-12 docs" name="DOCUMENTO"  type="text">
                                </div>
                            </div>
                            <div class="row item form-group">
                                <label class="control-label col-md-3 col-sm-1 col-xs-4" for="FEC_COMPROBANTE">Fecha:
                                </label>
                                <div class="col-md-7 col-sm-2 col-xs-6">
                                    <input id="FEC_COMPROBANTE" class="form-control col-md-7 col-xs-12" name="FEC_COMPROBANTE"   type="date" required="required" readonly="readonly">
                                </div>
                            </div>
                            <div class="row item form-group">
                                <label class="control-label col-md-3 col-sm-1 col-xs-2" for="TIPO_PAGO">Tipo.&nbsp;Pago:
                                </label>
                                <div class="col-md-9 col-sm-3 col-xs-10">
                                    <select id="TIPO_PAGO" class="select2_single form-control" tabindex="-1">
                                        <option value="CON">Contado</option>
                                        <option value="CRE">Credito</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row item form-group">
                                <label class="control-label col-md-3 col-sm-1 col-xs-1" for="COD_MONEDA">Metodo&nbsp;Pago:
                                </label>
                                <div class="col-md-2 col-sm-1 col-xs-2">
                                    <input id="COD_METODO" class="form-control col-md-7 col-xs-4" name="COD_METODO"   type="text" required="required" data-toggle="tooltip" title="Presione F9 para buscar">
                                </div>
                                <div class="col-md-7 col-sm-2 col-xs-7">
                                    <input id="DESC_METODO" class="form-control col-md-7 col-xs-6" name="DESC_METODO"  readonly="readonly">
                                </div> 
                            </div>
                            <div class="row item form-group">
                                <label class="control-label col-md-3 col-sm-1 col-xs-4" for="OBSERVACION">Obs:
                                </label>
                                <div class="col-md-9 col-sm-3 col-xs-8">
                                    <textarea id="OBSERVACION" class="form-control" name="OBSERVACION" data-parsley-trigger="keyup" data-parsley-maxlength="800" ></textarea>
                                </div>
                            </div>
                            
                            <!--<div class="row item form-group">
                                <div class="col-md-3">&nbsp;</div>
                                <label class="control-label col-md-3 col-sm-1 col-xs-4" for="OMITIR_OFERTA">Omitir&nbsp;oferta:
                                </label>
                                <div class="col-md-6 col-sm-1 col-xs-8 centrado">
                                    <input id="OMITIR_OFERTA" class="check" name="OMITIR_OFERTA"   type="checkbox" value="N" checked>
                                </div>
                            </div>-->
                            
                        </div>
                        <div class="col-md-8">
                            <div class="row item form-group">
                                <label class="control-label col-md-3 col-sm-2 col-xs-4" for="COD_PEDIDO">Operacion:
                                </label>
                                <div class="col-md-2 col-sm-2 col-xs-6">
                                    <input id="NRO_SOLICUTUD" class="form-control col-md-7 col-xs-12" name="NRO_SOLICUTUD"   type="text">
                                </div>

                                <label class="control-label col-md-2 col-sm-2 col-xs-4" for="COD_PEDIDO">Nro&nbsp;pedido:
                                </label>
                                <div class="col-md-4 col-sm-2 col-xs-6">
                                    <input id="COD_PEDIDO" class="form-control col-md-7 col-xs-12" name="COD_PEDIDO"   type="number" readonly="readonly">
                                </div>
                            </div>
                            <div class="row item form-group">
                                <label class="control-label col-md-1 col-sm-2 col-xs-4" for="COD_CLIENTE">Cliente:
                                </label>
                                <div class="col-md-2 col-sm-1 col-xs-8" data-toggle="tooltip" title="Presione F9 para buscar">
                                    <input id="COD_CLIENTE" class="form-control col-md-7 col-xs-12" name="COD_CLIENTE"   type="text" required="required">
                                </div>
                                <div class="col-md-8 col-sm-5 col-xs-12">
                                    <input id="DESC_CLIENTE" class="form-control col-md-7 col-xs-12" name="DESC_CLIENTE"   type="text" readonly="readonly">
                                </div>
                                <div class="col-md-1 col-sm-1 col-xs-2">
                                    <button class="btn btn-default" onclick="actualizaCliente()" type="button"><i class="fa fa-pencil"></i></button>
                                </div>
                            </div>
                            <div class="row item form-group">
                                <label class="control-label col-md-1 col-sm-1 col-xs-4" for="CAMBIAR_NOMBRE">A&nbsp;nombre:
                                </label>
                                <div class="col-md-2 col-sm-1 col-xs-8 centrado">
                                    <input id="CAMBIAR_NOMBRE" class="check" name="CAMBIAR_NOMBRE"   type="checkbox" value="N" checked>
                                </div>
                                <div class="col-md-9 col-sm-6 col-xs-12">
                                    <input id="NOM_CLIENTE" class="form-control col-md-7 col-xs-12" name="NOM_CLIENTE"   type="text" readonly="readonly">
                                </div>
                            </div>
                            <div class="row item form-group">   
                                <label class="control-label col-md-1 col-sm-1 col-xs-1" for="COD_DIRECCION">Direccion:
                                </label>
                                <div class="col-md-2 col-sm-1 col-xs-2">
                                    <input id="COD_DIRECCION" class="form-control col-md-7 col-xs-4" name="COD_DIRECCION"   type="text" required="required" data-toggle="tooltip" title="Presione F9 para buscar">
                                </div>
                                <div class="col-md-9 col-sm-6 col-xs-7">
                                    <input id="DESC_DIRECCION" class="form-control col-md-7 col-xs-6" name="DESC_DIRECCION"   type="text" readonly="readonly">
                                </div>
                            </div>
                            <div class="row item form-group">   
                                <label class="control-label col-md-1 col-sm-1 col-xs-1" for="COD_DIRECCION">Ciudad:
                                </label>
                                <div class="col-md-1 col-sm-1 col-xs-2 oculto">
                                    <input id="COD_CIUDAD" class="form-control col-md-7 col-xs-4 " name="COD_CIUDAD"   type="text" readonly="readonly" >
                                </div>
                                <div class="col-md-3 col-sm-1 col-xs-2">
                                    <input id="CIUDAD" class="form-control col-md-7 col-xs-4" name="ALTA_CIUDAD"   type="text" readonly="readonly">
                                </div>

                                <label class="control-label col-md-2 col-sm-1 col-xs-1" for="COD_BARRIO">Barrio:
                                </label>
                                <div class="col-md-1 col-sm-1 col-xs-2 oculto">
                                    <input id="COD_BARRIO" class="form-control col-md-7 col-xs-4 " name="COD_BARRIO"   type="text" readonly="readonly" >
                                </div>
                                <div class="col-md-4 col-sm-1 col-xs-2">
                                    <input id="BARRIO" class="form-control col-md-7 col-xs-4" name="BARRIO"   type="text" readonly="readonly">
                                </div>
                                <div class="col-md-1 col-sm-1 col-xs-2">
                                    <label class="control-label col-md-1 col-sm-1 col-xs-1" for="OMITIR_OFERTA">Omitir&nbsp;oferta</label>
                                </div>
                            </div>
                            <div class="row item form-group">   
                                <label class="control-label col-md-1 col-sm-1 col-xs-4" for="RUC">RUC/CI:
                                </label>
                                <div class="col-md-3 col-sm-3 col-xs-12">
                                    <input id="RUC" class="form-control col-md-7 col-xs-12" name="RUC"   type="text" required="required" readonly="readonly">
                                </div>
                                <label class="control-label col-md-2 col-sm-1 col-xs-4" for="TEL_CLIENTE">Telefono:
                                </label>
                                <div class="col-md-4 col-sm-3 col-xs-12">
                                    <input id="TEL_CLIENTE" class="form-control col-md-7 col-xs-12" name="TEL_CLIENTE"   type="text" readonly="readonly">
                                </div>
                                <div class="col-md-1 col-sm-3 col-xs-12 centrar">
                                    <input id="OMITIR_OFERTA" class="check" name="OMITIR_OFERTA"   type="checkbox" checked="checked">
                                </div>
                            </div>
                        </div>
                    </div>

                    <br>
                    <!-- /CABECERA -->
                    <table class="table table-bordered table-hover table-striped table-responsive table-sm">
                        <thead>
                            <tr>
                                <th class="centrado">#</th>
                                <th>ARTICULO</th>
                                <th>DESCRIPCION</th>
                                <th>COLOR</th>
                                <th>TALLA</th>
                                <th class="centrado">PRECIO&nbsp;UNI</th>
                                <th class="centrado">%DESC</th>
                                <th class="centrado">DESCUENTO</th>
                                <th class="centrado">CANTIDAD</th>
                                <th class="centrado">TOTAL&nbsp;IVA</th>
                                <th class="centrado">TOTAL</th>
                                <th class="centrado">OPCION</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="gs">1</td>
                                <td><i data-toggle="tooltip" title="Presione F9 para buscar"><input id="COD_ARTICULO_AGREGAR" class="form-control" type="text"/></i></td>
                                <td><input id="DESC_ARTICULO_AGREGAR" class="form-control" type="text" readonly="readonly"/></td>
                                <td><i data-toggle="tooltip" title="Presione F9 para buscar"><input id="COD_COLOR_AGREGAR" class="form-control" type="text"/></i></td>
                                <td><i data-toggle="tooltip" title="Presione F9 para buscar"><input id="COD_TALLA_AGREGAR" class="form-control" type="text"/></i></td>
                                <td><input id="PRECIO_UNITARIO_AGREGAR" class="form-control gs" type="text" readonly="readonly"/></td>
                                <td><input id="PORC_DESCUENTO_AGREGAR" class="form-control" type="text" onKeyPress="return soloNro(event)" value="0"/></td>
                                <td><input id="DESCUENTO_AGREGAR" class="form-control gs" type="text" readonly="readonly"/></td>
                                <td><input id="CANTIDAD_AGREGAR" class="form-control" type="number" min="1" max="999"/></td>
                                <td><input id="TOTAL_IVA_AGREGAR" class="form-control gs" type="text" readonly="readonly"/></td>
                                <td><input id="TOTAL_AGREGAR" class="form-control gs" type="text" readonly="readonly"/></td>
                                <th>
                                    <div class="row">
                                        <div class="col-12 centrado">
                                            <button id="BTN-AGREGAR" onclick="verificarAgregarDetalle()" type="button" class="btn btn-primary btn-sm"><i class="fa fa-arrow-down"></i></button>
                                        </div>
                                    </div>
                                </th>
                                <td class="oculto"><input id="COD_UNIDAD_MEDIDA_AGREGAR" class="form-control" type="text"/></td>
                            </tr>
                        </tbody>
                    </table>
                    <!-- DETALLE -->
                    <!--<button type="button" class="btn btn-primary" onclick="cargar_busqueda('frm/pedidos/buscar_articulo.html')">Agregar producto &nbsp;&nbsp;<i class="fa fa-plus"></i></button>-->
                    <table id="EditableTable" class="table table-bordered table-hover table-striped table-responsive table-sm">
                        <thead>
                            <tr>
                                <th class="centrado">#</th>
                                <th>ARTICULO</th>
                                <th>DESCRIPCION</th>
                                <th>COLOR</th>
                                <th>TALLA</th>
                                <th class="centrado">PRECIO&nbsp;UNI</th>
                                <th class="centrado">%DESC</th>
                                <th class="centrado">DESCUENTO</th>
                                <th class="centrado">CANTIDAD</th>
                                <th class="centrado">TOTAL&nbsp;IVA</th>
                                <th class="centrado">TOTAL</th>
                                <th class="centrado">OPCION</th>
                            </tr>
                        </thead>
                        <tbody id="tbody_detalle">
                            <!--<tr>
                                <td class="gs" id="orden1">1</td>
                                <td>C10001</td>
                                <td>CROCS BAND</td>
                                <td>ROJO</td>
                                <td>C10</td>
                                <td class="gs">215000</td>
                                <td class="gs">1</td>
                                <td class="gs">19546</td>
                                <td class="gs">234546</td>
                                <th>
                                    <div class="row">
                                        <div class="col-12 centrado">
                                            <button type="button"  class="btn btn-success btn-sm"><i class="fa fa-edit"></i></button>
                                            <button type="button"  class="btn btn-danger btn-sm" onclick="borrarDetalle($(this).parent().parent().parent().parent())"><i class="fa fa-trash"></i></button>
                                        </div>
                                    </div>
                                </th>
                            </tr>-->

                        </tbody>
                        <tfoot>
                            <tr>
                                <td colspan="7">Total</td>
                                <td id="total_descuento" class="gs"></td>
                                <td id="total_cantidad" class="gs"></td>
                                <td id="total_iva" class="gs"></td>
                                <td id="total_total" class="gs"></td>
                                <td>&nbsp;</td>
                            </tr>
                        </tfoot>
                    </table>
                </form>

                <div class="row">
                    <div class="col-md-5">
                        <p class="lead">Resumen</p>
                        <div class="table-responsive">
                            <table class="table">
                                <tbody>
                                    <tr>
                                        <th style="width:50%">Gravadas:</th>
                                        <td class="gs" id="res_gravada">0</td>
                                    </tr>
                                    <tr>
                                        <th>Envio</th>
                                        <td class="gs" id="res_envio">0</td>
                                    </tr>
                                    <tr>
                                        <th>Descuento</th>
                                        <td class="gs" id="res_descuento">0</td>
                                    </tr>
                                    <tr >
                                        <th>Subtotal:</th>
                                        <td class="gs" id="res_subtotal">0</td>
                                    </tr>
                                    <tr>
                                        <th>IVA:</th>
                                        <td class="gs" id="res_iva">0</td>
                                    </tr>
                                    <tr>
                                        <th>Total:</th>
                                        <th class="gs" id="res_total">0</th>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>







                    <div class="col-md-7">
                        <form id="form-delivery">
                            <div class="row">
                                <p class="lead col-md-12">Datos de entrega</p>
                            </div>
                            <div class="row item form-group">
                                <label class="control-label col-md-1 col-sm-1 col-xs-1" style="margin-top: 0.7%;" for="COD_DELIVERY">Delivery:
                                </label>
                                <div class="col-md-5 col-sm-1 col-xs-2">
                                    <select id="COD_DELIVERY" class="form-control col-md-7 col-xs-4" name="COD_DELIVERY" tabindex="-1"> 
                                    </select>
                                </div>
                                <div class="col-md-1"></div>
                                <div id="div_delivery" class="col-md-4 col-sm-1 col-xs-2" style="border: 2px dashed;  margin-left: 1.6%;">
                                    <label class="control-label col-md-5" for="monto_delivery" style="margin-top: 4%;">Costo:
                                    </label>
                                    <div class="centrado col-md-7">
                                        <h4 id="monto_delivery" class="gs text-center">15000</h4>
                                    </div>
                                </div>    

                            </div>
                            <div class="row">                        
                                <label class="control-label col-md-1 col-sm-1 col-xs-1" style="margin-top: 0.7%;" for="fec_entrega">Fecha:
                                </label>
                                <div class="col-md-5">
                                    <div class="input-group date dt" >
                                        <input type="text" class="form-control" id="fec_entrega">
                                        <span class="input-group-addon">
                                            <span class="glyphicon glyphicon-calendar"></span>
                                        </span>
                                    </div>
                                </div>
                                <label class="control-label col-md-1 col-sm-1 col-xs-1" style="margin-top: 0.7%;" for="hor_entrega">Hora:
                                </label>
                                <div class="col-md-5">
                                    <div class="input-group date hr" >
                                        <input type="text" class="form-control" id="hor_entrega">
                                        <span class="input-group-addon">
                                            <span class="glyphicon glyphicon-calendar"></span>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>

                </div>
                <hr>
                <div class="centrado">
                    <button class="btn btn-default"> Cancelar </button>
                    <button class="btn btn-primary" onclick="guardar()"> Guardar </button>
                </div>


            </div>
        </div>
    </div>
</div>
<script src="vendors/bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js"></script>
<script src="js/sweetalert2.all.min.js" type="text/javascript"></script>
<script src="frm/pedidos/js/funciones.js" type="text/javascript"></script>
